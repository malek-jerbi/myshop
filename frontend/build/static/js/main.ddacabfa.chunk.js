(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(t,e,c){"use strict";c.r(e);var a=c(0),r=c(18),n=c.n(r),s=c(22),i=c(43),j=c(72),o=c(71),d=c(2),l=c(28),u=Object(i.combineReducers)({productList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:e.data};case"PRODUCT_LIST_FAIL":return{loading:!1,error:e.data};default:return t}},productDetails:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PRODUCT_DETAILS_REQUEST":return Object(d.a)({loading:!0},t);case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:e.data};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:e.data};default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CART_ADD_ITEM":var c=e.data,a=t.cartItems.find((function(t){return t.product===c.product}));return a?Object(d.a)(Object(d.a)({},t),{},{cartItems:t.cartItems.map((function(t){return t.product===a.product?c:t}))}):Object(d.a)(Object(d.a)({},t),{},{cartItems:[].concat(Object(l.a)(t.cartItems),[c])});case"CART_REMOVE_ITEM":return Object(d.a)(Object(d.a)({},t),{},{cartItems:t.cartItems.filter((function(t){return t.product!==e.data}))});default:return t}}}),b={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]}},O=[j.a],h=Object(i.createStore)(u,b,Object(o.composeWithDevTools)(i.applyMiddleware.apply(void 0,O))),x=(c(85),c(86),c(120)),p=c(114),f=c(122),m=c(56),g=c(1),v=function(){return Object(g.jsx)("header",{children:Object(g.jsx)(x.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(g.jsxs)(p.a,{children:[Object(g.jsx)(m.LinkContainer,{to:"/",children:Object(g.jsx)(x.a.Brand,{children:"MyShop"})}),Object(g.jsx)(x.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsx)(x.a.Collapse,{id:"basic-navbar-nav",children:Object(g.jsxs)(f.a,{className:"ms-auto",children:[Object(g.jsx)(m.LinkContainer,{to:"/cart",children:Object(g.jsx)(f.a.Link,{children:Object(g.jsx)("i",{className:"fas fa-shopping-cart",children:"Cart"})})}),Object(g.jsx)(m.LinkContainer,{to:"/login",children:Object(g.jsx)(f.a.Link,{children:Object(g.jsx)("i",{className:"fas fa-user",children:"Sign In"})})})]})})]})})})},I=c(115),S=c(75),y=function(){return Object(g.jsx)("footer",{children:Object(g.jsx)(p.a,{children:Object(g.jsx)(I.a,{children:Object(g.jsx)(S.a,{className:"text-center py-3",children:"Copyright \xa9 MyShop"})})})})},T=c(123),C=function(t){var e=t.value,c=t.text,a=t.color;return Object(g.jsxs)("div",{className:"rating",children:[Object(g.jsx)("span",{children:Object(g.jsx)("i",{style:{color:a},className:e>=1?"fas fa-star":e>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(g.jsx)("span",{children:Object(g.jsx)("i",{style:{color:a},className:e>=2?"fas fa-star":e>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(g.jsx)("span",{children:Object(g.jsx)("i",{style:{color:a},className:e>=3?"fas fa-star":e>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(g.jsx)("span",{children:Object(g.jsx)("i",{style:{color:a},className:e>=4?"fas fa-star":e>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(g.jsx)("span",{children:Object(g.jsx)("i",{style:{color:a},className:e>=5?"fas fa-star":e>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(g.jsxs)("span",{children:[c&&c," "]})]})};C.defaultProps={color:"#f8ab25"};var k=C,_=c(19),L=function(t){var e=t.product;return Object(g.jsxs)(T.a,{className:"my-3 p-3 rounded",children:[Object(g.jsx)(_.Link,{to:"/product/".concat(e._id),children:Object(g.jsx)(T.a.Img,{src:e.image,variant:"top"})}),Object(g.jsxs)(T.a.Body,{children:[Object(g.jsx)(_.Link,{to:"/product/".concat(e._id),children:Object(g.jsx)(T.a.Title,{as:"div",children:Object(g.jsx)("strong",{children:e.name})})}),Object(g.jsx)(T.a.Text,{as:"div",children:Object(g.jsx)(k,{value:e.rating,text:"".concat(e.numReviews," reviews")})}),Object(g.jsxs)(T.a.Text,{className:"my-3",children:[" $",e.price]})]})]})},E=c(30),D=c.n(E),R=c(41),w=c(42),N=c.n(w),P=c(116);MessageChannel.defaultProps={variant:"info"};var U=function(t){var e=t.variant,c=t.children;return Object(g.jsx)(P.a,{variant:e,children:c})},A=c(117),F=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(A.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}}),Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})]})},M=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.productList})),c=e.loading,r=e.error,n=e.products;return Object(a.useEffect)((function(){t(function(){var t=Object(R.a)(D.a.mark((function t(e){var c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:"PRODUCT_LIST_REQUEST"}),t.next=4,N.a.get("/api/products");case 4:c=t.sent,e({type:"PRODUCT_LIST_SUCCESS",data:c.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:"PRODUCT_LIST_FAIL",data:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Latest Products"}),c?Object(g.jsx)(F,{}):r?Object(g.jsx)(U,{variant:"danger",children:r}):Object(g.jsx)(I.a,{children:n.map((function(t){return Object(g.jsx)(S.a,{sm:12,md:6,lg:4,xl:3,children:Object(g.jsx)(L,{product:t})},t._id)}))})]})},B=c(6),q=c(8),J=c(118),Q=c(124),$=c(121),G=c(119),V=function(){var t=Object(a.useState)(1),e=Object(q.a)(t,2),c=e[0],r=e[1],n=Object(B.w)(),i=Object(B.t)(),j=Object(s.b)(),o=Object(s.c)((function(t){return t.productDetails})),d=o.product,u=o.error,b=o.loading;Object(a.useEffect)((function(){var t;j((t=n.id,function(){var e=Object(R.a)(D.a.mark((function e(c){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:"PRODUCT_DETAILS_REQUEST"}),e.next=4,N.a.get("/api/products/".concat(t));case 4:a=e.sent,c({type:"PRODUCT_DETAILS_SUCCESS",data:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c({type:"PRODUCT_DETAILS_FAIL",data:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[j,n]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(_.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),b?Object(g.jsx)(F,{}):u?Object(g.jsx)(U,{variant:"danger",children:u}):Object(g.jsxs)(I.a,{children:[Object(g.jsx)(S.a,{md:5,children:Object(g.jsx)(J.a,{src:d.image,alt:d.name,fluid:!0})}),Object(g.jsx)(S.a,{md:3,children:Object(g.jsxs)(Q.a,{variant:"flush",children:[Object(g.jsx)(Q.a.Item,{children:Object(g.jsx)("h3",{children:d.name})}),Object(g.jsx)(Q.a.Item,{children:Object(g.jsx)(k,{value:d.rating,text:"".concat(d.numReviews," reviews")})}),Object(g.jsxs)(Q.a.Item,{children:["Price: $",d.price]}),Object(g.jsxs)(Q.a.Item,{children:["Description: ",d.description]})]})}),Object(g.jsx)(S.a,{md:3,children:Object(g.jsxs)(Q.a,{children:[Object(g.jsx)(Q.a.Item,{children:Object(g.jsxs)(I.a,{children:[Object(g.jsx)(S.a,{children:"Price:"}),Object(g.jsxs)(S.a,{children:["$",d.price]})]})}),Object(g.jsx)(Q.a.Item,{children:Object(g.jsxs)(I.a,{children:[Object(g.jsx)(S.a,{children:"Status:"}),Object(g.jsx)(S.a,{children:d.countInStock>0?"In Stock":"Out Of Stock"})]})}),d.countInStock>0&&Object(g.jsx)(Q.a.Item,{children:Object(g.jsxs)(I.a,{children:[Object(g.jsx)(S.a,{children:"Qty:"}),Object(g.jsx)(S.a,{children:Object(g.jsx)($.a.Select,{as:"select",value:c,onChange:function(t){return r(t.target.value)},children:Object(l.a)(Array(d.countInStock).keys()).map((function(t){return Object(g.jsx)("option",{value:t+1,children:t+1},t+1)}))})})]})}),Object(g.jsx)(Q.a.Item,{children:Object(g.jsx)(G.a,{onClick:function(){i("/cart/".concat(n.id,"?qty=").concat(c))},type:"button",className:"btn-primary w-100",disabled:0===d.countInStock,children:"Add To Cart"})})]})})]})]})},W=function(t,e){return function(){var c=Object(R.a)(D.a.mark((function c(a,r){var n,s;return D.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,N.a.get("/api/products/".concat(t));case 2:n=c.sent,s=n.data,a({type:"CART_ADD_ITEM",data:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:e}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(t,e){return c.apply(this,arguments)}}()},Y=function(){var t=Object(B.w)().id,e=Object(B.t)(),c=Object(B.r)(),r=c.search?Number(c.search.split("=")[1]):1,n=Object(s.b)(),i=Object(s.c)((function(t){return t.cart})).cartItems,j=function(t){n(function(t){return function(e,c){e({type:"CART_REMOVE_ITEM",data:t}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(t))};return Object(a.useEffect)((function(){t&&n(W(t,r))}),[n,t,r]),Object(g.jsxs)(I.a,{children:[Object(g.jsxs)(S.a,{md:8,children:[Object(g.jsx)("h1",{children:"Shopping Cart"}),0===i.length?Object(g.jsxs)(U,{variant:"info",children:["Your cart is empty ",Object(g.jsx)(_.Link,{to:"/",children:"Go Back"})]}):Object(g.jsx)(Q.a,{variant:"flush",children:i.map((function(t){return Object(g.jsx)(Q.a.Item,{children:Object(g.jsxs)(I.a,{children:[Object(g.jsx)(S.a,{md:2,children:Object(g.jsx)(J.a,{src:t.image,alt:t.name,fluid:!0,rounded:!0})}),Object(g.jsx)(S.a,{md:3,children:Object(g.jsx)(_.Link,{to:"/product/".concat(t.product),children:t.name})}),Object(g.jsxs)(S.a,{md:2,children:["$",t.price]}),Object(g.jsxs)(S.a,{md:2,children:[" ",Object(g.jsx)($.a.Select,{as:"select",value:t.qty,onChange:function(e){return n(W(t.product,Number(e.target.value)))},children:Object(l.a)(Array(t.countInStock).keys()).map((function(t){return Object(g.jsx)("option",{value:t+1,children:t+1},t+1)}))})]}),Object(g.jsx)(S.a,{md:2,children:Object(g.jsx)(G.a,{type:"button",variant:"light",onClick:function(){return j(t.product)},children:Object(g.jsx)("i",{className:"fas fa-trash"})})})]})},t.product)}))})]}),Object(g.jsx)(S.a,{md:4,children:Object(g.jsx)(T.a,{children:Object(g.jsxs)(Q.a,{variant:"flush",children:[Object(g.jsxs)(Q.a.Item,{children:[Object(g.jsxs)("h2",{children:["Subtotal (",i.reduce((function(t,e){return t+e.qty}),0),") items"]}),"$",i.reduce((function(t,e){return t+e.qty*e.price}),0).toFixed(2)]}),Object(g.jsx)(Q.a.Item,{children:Object(g.jsx)(G.a,{onClick:function(){e("/login?redirect=shipping")},type:"button",className:"btn-primary w-100",disabled:0===i.length,children:"Proceed to checkout"})})]})})})]})},z=function(){return Object(g.jsxs)(_.BrowserRouter,{children:[Object(g.jsx)(v,{}),Object(g.jsx)("main",{className:"py-3",children:Object(g.jsx)(p.a,{children:Object(g.jsxs)(B.f,{children:[Object(g.jsx)(B.d,{path:"/",element:Object(g.jsx)(M,{}),exact:!0}),Object(g.jsx)(B.d,{path:"/product/:id",element:Object(g.jsx)(V,{})}),Object(g.jsx)(B.d,{path:"/cart/:id",element:Object(g.jsx)(Y,{})}),Object(g.jsx)(B.d,{path:"/cart",element:Object(g.jsx)(Y,{})})]})})}),Object(g.jsx)(y,{})]})},H=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,125)).then((function(e){var c=e.getCLS,a=e.getFID,r=e.getFCP,n=e.getLCP,s=e.getTTFB;c(t),a(t),r(t),n(t),s(t)}))};n.a.render(Object(g.jsx)(s.a,{store:h,children:Object(g.jsx)(z,{})}),document.getElementById("root")),H()},85:function(t,e,c){},86:function(t,e,c){}},[[112,1,2]]]);
//# sourceMappingURL=main.ddacabfa.chunk.js.map